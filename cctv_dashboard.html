<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุฑุงูุจ ุงููุงููุฑุงุช</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body onload="updateDateTime()">


    <style>
        body {
            background-image: url('assets/background.jpg');
            /* ุงุณุชุจุฏู ุจุงุณู ุงูุตูุฑุฉ */
            background-size: cover;
            /* ุชุบุทูุฉ ุงูุดุงุดุฉ ุจุงููุงูู */
            background-position: center;
            /* ุชูุณูุท ุงูุฎูููุฉ */
            background-repeat: no-repeat;
            /* ููุน ุงูุชูุฑุงุฑ */
            background-attachment: fixed;
            /* ุฌุนู ุงูุฎูููุฉ ุซุงุจุชุฉ ุฃุซูุงุก ุงูุชูุฑูุฑ */
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
    </style>


    <!-- ููุฌู ุงูุดุฑูุฉ -->
    <img src="assets/logo.png" alt="ููุฌู ุงูุดุฑูุฉ" class="logo">




    <h2 class="title">cctv account</h2>








    <p id="datetime"></p>


    <p id="datetime"></p>

    <script>
        function updateDateTime() {
            var now = new Date();
            var options = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            };
            document.getElementById("datetime").innerHTML = now.toLocaleDateString('ar-EG', options);
        }

        // ุชุญุฏูุซ ุงูููุช ูู ุซุงููุฉ
        setInterval(updateDateTime, 1000);

        // ุชุดุบูู ุงููุธููุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        updateDateTime();
    </script>


    <!-- ุงูุฃุฒุฑุงุฑ ุงูุฎุงุตุฉ ุจูู ูุณู -->
    <div class="buttons-container">
        <button onclick="openSection('masasa')">ูุณู ุงููุตุงุตุฉ</button>
        <button onclick="openSection('chocolate')">ูุณู ุงูุดููููุงุชุฉ</button>
        <button onclick="openSection('storage')">ูุณู ุงููุฎุงุฒู</button>
        <button onclick="openSection('carton')">ูุฎุฒู ุงููุงุฑุชูู</button>
        <button onclick="openSection('stairs')">ุงูุณูุงูู ูุงูุดููููุงุชุฉ</button>
        <button onclick="openSection('external')">ุงูุฎุงุฑุฌู</button>
    </div>

    <!-- ุฌุฏูู ุนุฑุถ ุงููุฎุงููุงุช ููู ูุณู -->
    <div id="violations-container" style="display: none;">
        <h3 id="section-title"></h3>

        <button id="add-violation-btn" onclick="showAddViolationForm()">โ ุฅุถุงูุฉ ูุฎุงููุฉ</button>


        <table border="1">
            <thead>
                <tr>
                    <th>ุฑูู ุงููุงููุฑุง</th>
                    <th>ุงูุชูููุช</th>
                    <th>ุงุณู ุงููุฎุงูู</th>
                    <th>ุงููุฎุงููุฉ</th>
                    <th>ููุงุญุธุงุช HR</th>
                    <th>ุงูุฅุฌุฑุงุก ุงููุชุฎุฐ</th>
                    <th>ุชุนุฏูู</th>
                    <th>ูุณุญ</th>
                </tr>
            </thead>
            <tbody id="violations-table">
                <!-- ุณูุชู ุฅุถุงูุฉ ุงููุฎุงููุงุช ููุง -->
            </tbody>
        </table>

        <button onclick="saveReport()">๐ ุญูุธ ุงูุชูุฑูุฑ</button>
    </div>

    <!-- ูููุฐุฌ ุฅุถุงูุฉ ูุฎุงููุฉ -->
    <div id="add-violation-form" style="display: none;">
        <h3>ุฅุถุงูุฉ ูุฎุงููุฉ</h3>
        <label>ุฑูู ุงููุงููุฑุง:</label>
        <input type="text" id="camera-number"><br>

        <label>ุงูุชูููุช:</label>
        <input type="time" id="time"><br>

        <label>ุงุณู ุงููุฎุงูู :</label>
        <<input type="text" id="violator-name"><br>


            <label>ุงููุฎุงููุฉ:</label>
            <input type="text" id="violation"><br>

            <label>ููุงุญุธุงุช HR:</label>
            <input type="text" id="hr-notes"><br>

            <label>ุงูุฅุฌุฑุงุก ุงููุชุฎุฐ:</label>
            <select id="action">
            <option value="ููุช ูุธุฑ">ููุช ูุธุฑ</option>
            <option value="ุฑุจุน ููู">ุฑุจุน ููู</option>
            <option value="ูุตู ููู">ูุตู ููู</option>
            <option value="ููู">ููู</option>
            <option value="ุซูุงุซุฉ ุฃูุงู">ุซูุงุซุฉ ุฃูุงู</option>
        </select><br>

            <button onclick="addViolation()">โ ุญูุธ ุงููุฎุงููุฉ</button>
    </div>

    <script>
        let selectedSection = "";

        function updateDateTime() {
            let now = new Date();
            let formattedDate = now.toLocaleDateString('ar-EG', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            let formattedTime = now.toLocaleTimeString();
            document.getElementById("datetime").innerText = `๐ ${formattedDate} - โฐ ${formattedTime}`;
        }

        function openSection(section) {
            selectedSection = section;
            document.getElementById("violations-container").style.display = "block";
            document.getElementById("section-title").innerText = `๐ ุฌุฏูู ุงููุฎุงููุงุช - ${section}`;
            loadViolations();
        }

        function showAddViolationForm() {
            document.getElementById("add-violation-form").style.display = "block";
        }

        function addViolation() {
            let cameraNumber = document.getElementById("camera-number").value;
            let time = document.getElementById("time").value;
            let violatorname = document.getElementById("violatorname").value;
            let violation = document.getElementById("violation").value;
            let hrNotes = document.getElementById("hr-notes").value;
            let action = document.getElementById("action").value;

            if (cameraNumber && time && violation) {
                let table = document.getElementById("violations-table");
                let row = table.insertRow();
                row.insertCell(0).innerText = cameraNumber;
                row.insertCell(1).innerText = time;
                row.insertCell(2).innerText = violatorname;
                row.insertCell(3).innerText = violation;
                row.insertCell(4).innerText = hrNotes;
                row.insertCell(5).innerText = action;

                let editCell = row.insertCell(6);
                let editButton = document.createElement("button");
                editButton.innerText = "โ๏ธ ุชุนุฏูู";
                editButton.onclick = () => editViolation(row);
                editCell.appendChild(editButton);

                let deleteCell = row.insertCell(7);
                let deleteButton = document.createElement("button");
                deleteButton.innerText = "๐๏ธ ูุณุญ";
                deleteButton.onclick = () => row.remove();
                deleteCell.appendChild(deleteButton);

                document.getElementById("add-violation-form").style.display = "none";
                saveViolationToReports(cameraNumber, time, violation, hrNotes, action);
            } else {
                alert("ูุฌุจ ุฅุฏุฎุงู ุฌููุน ุงูุญููู!");
            }
        }

        function editViolation(row) {
            let cells = row.cells;
            document.getElementById("camera-number").value = cells[0].innerText;
            document.getElementById("time").value = cells[1].innerText;
            document.getElementById("violatorname").value = cells[2].innerText;
            document.getElementById("violation").value = cells[3].innerText;
            document.getElementById("hr-notes").value = cells[4].innerText;
            document.getElementById("action").value = cells[5].innerText;
            row.remove();
            showAddViolationForm();
        }

        function saveViolationToReports(cameraNumber, time, violatorname, violation, hrNotes, action) {
            let violations = JSON.parse(localStorage.getItem(selectedSection)) || [];
            violations.push({
                cameraNumber,
                time,
                violation,
                violatorname,
                hrNotes,
                action
            });
            localStorage.setItem(selectedSection, JSON.stringify(violations));
        }

        function loadViolations() {
            let violations = JSON.parse(localStorage.getItem(selectedSection)) || [];
            let table = document.getElementById("violations-table");
            table.innerHTML = "";

            violations.forEach(v => {
                let row = table.insertRow();
                row.insertCell(0).innerText = v.cameraNumber;
                row.insertCell(1).innerText = v.time;
                row.insertCell(2).innerText = v.iolatorname;
                row.insertCell(3).innerText = v.violation;
                row.insertCell(4).innerText = v.hrNotes;
                row.insertCell(5).innerText = v.action;

                let editCell = row.insertCell(6);
                let editButton = document.createElement("button");
                editButton.innerText = "โ๏ธ ุชุนุฏูู";
                editButton.onclick = () => editViolation(row);
                editCell.appendChild(editButton);

                let deleteCell = row.insertCell(7);
                let deleteButton = document.createElement("button");
                deleteButton.innerText = "๐๏ธ ูุณุญ";
                deleteButton.onclick = () => row.remove();
                deleteCell.appendChild(deleteButton);
            });
        }

        function saveReport() {
            let now = new Date();
            let formattedDate = now.toISOString().split('T')[0];
            localStorage.setItem(`report_${formattedDate}`, JSON.stringify(localStorage));
            alert("๐ ุชู ุญูุธ ุงูุชูุฑูุฑ ุจูุฌุงุญ!");
        }
    </script>

</body>

</html>